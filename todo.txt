Changes to do
*************

Légende
*******
- en cours
V fait
T à tester
A annulé (voir raison en comm)
! problème (voir commentaire(s))
* Commentaire
C Changement cosmétique ou ergonomie

SITE
****

V La classe Company à 1-n catégorie(s) d'incident que l'entreprise peut résoudre
- Permettre de changer l'assignation d'une entreprise à un ticket via vue ticket (manager+ only)
    * Besoin de l'intégration de GeoPy (google api) pour la distance
- Permettre le changement de catégorie sur la vue ticket
    * Attention à la sous catégorie...
V Sur la vue ticket, le menu d'action apparaît même si le manager qui le visionne n'est pas gestionnaire de ce ticket.
V Un manager doit pouvoir aussi créer un ticket (pour lui-même)
    V Par contre, un manager ne peut pas créer de ticket pour un utilisateur ou un autre manager (protection contre la falsification)
V Flexibilité de l'appli
    V Ajout de nouvelles catégories d'incidents à la volée (popup? Nouveau formulaire?)
        * Via interface admin. Un user ne peut pas ajouter une (sous-)catégorie lui-même (danger de spam, ...)
    V Ajout de nouveaux lieux et bâtiment à la volée (popup? Nouveau formulaire?)
        * Via un interface admin (manager+) OU via un bouton dans le menu "Créer... Lieu" dans la barre de nav (User+)
    * Ajout d'entreprises via admin panel (uniquement pour les managers et admins! Sinon anarchie)
    * Assignation d'entreprises à des catégories ticket réservée aux admins et managers (même raison que ci-dessus)
V Ajout partie commentaires sur vue ticket
    * Pourquoi? Interaction utilisateur et gestionnaire de son ticket
    V Mail envoyé au deux protagonistes lors d'un nouveau commentaire (voir module de mailing de django + créer compte mail pour l'occasion)
A Intégration google distance matrix API
    * Annulation: Utilisation de Geopy! La limite d'utilisation est bien plus grande et son utilisation beaucoup plus simple.
    * Elle sera utilisée pour calculer la distance entre le client et les entreprises potentiellement en mesure de régler le ticket.
    * Les limites d'utilisation de l'API nécéssitent un filtrage préalable des entreprises dans l'app web!
V Intégration de Geopy
    * Voir ci-dessus
- Débroussailler le code en général (best practices, etc...)
C Faire en sorte que les éléments "étage" et "bureau" n'apparaissent que si un bâtiment est sélectionné dans la création ticket.
    C Même chose sur la vue ticket

APP ANDROID (demo sur genymotion)
***********

- Créer projet avec intellij (+ push sur github)
- Vue login
- Vue index
- Vue création ticket + ajout feature photo (android uniquement)
    - Stockage de la photo sur le serveur
    - Url de la photo liée au ticket
    - Affichage de la photo sur la vue ticket (web & android)
- Vue ticket avec possibilité de commenter (et de gérer le ticket, pour les managers)

Rapport TFE
***********

- Ajouter un chapitre sur le fonctionnement de Geopy

Sources
*******

https://developers.google.com/api-client-library/python/ (Installation API google)
